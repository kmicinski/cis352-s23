<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Project 1: ASCII Art</title>
  <meta name="description" content="Due: Wednesday, September 28th, 11:59PM.">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://kmicinski.com/cis352-s23/css/main.css">
  <link rel="canonical" href="https://kmicinski.com/cis352-s23/projects/1">
  <link rel="alternate" type="application/rss+xml" title="CIS352" href="https://kmicinski.com/cis352-s23/feed.xml">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href=https://kmicinski.com//cis352-s23/>CIS352</a>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href=https://kmicinski.com//cis352-s23/#schedule>Schedule</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href=https://kmicinski.com//cis352-s23/learning-objectives>Objectives</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href=https://kmicinski.com//cis352-s23/syllabus>Syllabus</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://autograde.org">Autograde</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- <nav class="site-nav"> -->
    <!--   <a href="#" class="menu-icon"> -->
    <!--     <svg viewBox="0 0 18 15"> -->
    <!--       <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/> -->
    <!--       <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/> -->
    <!--       <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/> -->
    <!--     </svg> -->
    <!--   </a> -->

    <!--   <div class="trigger"> -->
    <!--      -->
    <!--        -->
    <!--      -->
    <!--        -->
    <!--      -->
    <!--        -->
    <!--      -->
    <!--        -->
    <!--      -->
    <!--        -->
    <!--       <a class="page-link" href="https://kmicinski.com//cis352-s23/schedule/">Schedule</a> -->
    <!--        -->
    <!--      -->
    <!--        -->
    <!--       <a class="page-link" href="https://kmicinski.com//cis352-s23/syllabus/">Syllabus</a> -->
    <!--        -->
    <!--      -->
    <!--   </div> -->
    <!-- </nav> -->

  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Project 1: ASCII Art</h1>
    <h3><b>Project due date: <time datetime="2022-09-28T00:00:00-04:00">Sep 28,
    2022 (11:59PM Eastern)</time></b></h3>
  </header>

  <div class="post-content writeup-content" itemprop="articleBody">
    <p><strong>Due</strong>: Wednesday, September 28th, 11:59PM.</p>

<p>Available on http://autograde.org. Use your credentials to login.</p>

<p>In this project, you will parse and render ASCII art diagrams. The
point of this project is to (a) get you used to extending code others
(I) have written, (b) practice with recursion, and (c) to understand
the basic concept of (de)compilation to an intermediate
representation. In this project, we will consume ASCII art diagrams</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.-----------------------------------------------------------------------------.
 |Es| |F1 |F2 |F3 |F4 |F5 | |F6 |F7 |F8 |F9 |F10|                  C= AMIGA   |
 |__| |___|___|___|___|___| |___|___|___|___|___|                             |
  _____________________________________________     ________    ___________   |
 |~  |! |" |§ |$ |% |&amp; |/ |( |) |= |? |` || |&lt;-|   |Del|Help|  |{ |} |/ |* |  |
 |`__|1_|2_|3_|4_|5_|6_|7_|8_|9_|0_|ß_|´_|\_|__|   |___|____|  |[ |]_|__|__|  |
 |&lt;-  |Q |W |E |R |T |Z |U |I |O |P |Ü |* |   ||               |7 |8 |9 |- |  |
 |-&gt;__|__|__|__|__|__|__|__|__|__|__|__|+_|_  ||               |__|__|__|__|  |
 |Ctr|oC|A |S |D |F |G |H |J |K |L |Ö |Ä |^ |&lt;'|               |4 |5 |6 |+ |  |
 |___|_L|__|__|__|__|__|__|__|__|__|__|__|#_|__|       __      |__|__|__|__|  |
 |^    |&gt; |Y |X |C |V |B |N |M |; |: |_ |^     |      |A |     |1 |2 |3 |E |  |
 |_____|&lt;_|__|__|__|__|__|__|__|,_|._|-_|______|    __||_|__   |__|__|__|n |  |
    |Alt|A  |                       |A  |Alt|      |&lt;-|| |-&gt;|  |0    |. |t |  |
    |___|___|_______________________|___|___|      |__|V_|__|  |_____|__|e_|  |
                                                                              |
 -----------------------------------------------------------------------------'
</code></pre></div></div>

<p>We will transform this into an “intermediate representation:” a list
of triples, each specifying an X/Y coordinate along with a character
to be printed. For example, the following line:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> = . =
</code></pre></div></div>

<p>Is encoded in our representation as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'((0 1 #\=) (0 3 #\.) (0 5 #\=))
</code></pre></div></div>

<p>You will implement a function, <code class="language-plaintext highlighter-rouge">draw-ascii-diagram</code>, which
subsequently renders these images. We (the instructors) have
implemented a function, <code class="language-plaintext highlighter-rouge">parse-ascii-diagram</code>, which <em>reads</em> ASCII art
pictures into the diagram format. Together, we can think of these as
forming a kind of (de)compiler: <code class="language-plaintext highlighter-rouge">parse-ascii-diagram</code> reads an ASCII
diagram into our internal format and your <code class="language-plaintext highlighter-rouge">draw-ascii-diagram</code> then
outputs an equivalent photo. In terms of the following diagram,
<code class="language-plaintext highlighter-rouge">output0</code> and <code class="language-plaintext highlighter-rouge">output1</code> must be equivalent.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ASCII Text   ---  displayln --&gt; output0
        |                             ||
parse-ascii-diagram                   ||
        |                            equal?
 draw-ascii-diagram                   ||
        |                             ||
	    +---------- displayln ---&gt; output1
</code></pre></div></div>

<p>You are encouraged to read the beginning of <code class="language-plaintext highlighter-rouge">ascii.rkt</code> for a more
precise specification of the input format.</p>

<h2 id="academic-integrity">Academic Integrity</h2>

<p>The coding on this project is to be completed by you alone, without
help from any other students. You are encouraged to discuss the
project specification at a high level, but should not discuss
specifics or show students your solution code.</p>

<h1 id="tasks">Tasks</h1>

<p>You will implement three functions; look for each usage of <code class="language-plaintext highlighter-rouge">TODO</code>. For
many functions, starter code is provided. You are allowed to change
the implementation (i.e., throw away) of any starter code if you find
it helps you, but the instructors discourage doing so.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">(draw-ascii-line l)</code> – Given an ASCII line (specified as a list of
triples), draw the line. Assume that all characters are on the same
line (i.e., ignore the line number). Returns a string, which will be
printed by the testing infrastructure. This is <em>very</em> similar to the
problem on exercise <code class="language-plaintext highlighter-rouge">e0</code>, but you must account for the line number
(which you should ignore).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">(newlines n)</code> – which renders <code class="language-plaintext highlighter-rouge">n</code> newlines in a row; returns a
string.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">draw-ascii-diagram</code> – which renders an entire diagram. Your
solution should make use of the functions you have previously
defined to accomplish its task. Ensure you handle corner cases like
empty lines (no testcases will be provided which include trailing
newlines)</p>
  </li>
</ul>

<p>I would start with <code class="language-plaintext highlighter-rouge">newlines</code>, it is the easiest. Then move on to
<code class="language-plaintext highlighter-rouge">draw-ascii-line</code>. Finally, read the code carefully and implement
<code class="language-plaintext highlighter-rouge">draw-ascii-diagram</code>. If confused, consult the in-class examples and
starter code, and ask clarifying questions on Zulip and in class.</p>

<h1 id="testing">Testing</h1>

<p>This project has 6 public tests and 5 secret tests. You are encouraged
to test your code piecemeal in the REPL using the public tests. You
are also encouraged to create your own tests, or even (hint) use the
tests provided in the <code class="language-plaintext highlighter-rouge">pictures</code> folder.</p>

<p>Once your code is working correctly, the <code class="language-plaintext highlighter-rouge">demo</code> function will work,
unlocking the ability to call <code class="language-plaintext highlighter-rouge">ascii.rkt</code> directly via the command
line to demo your solution. To do this type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>racket ascii.rkt pictures/1.txt
</code></pre></div></div>

<p>We have included a testing corpus of pictures in <code class="language-plaintext highlighter-rouge">pictures/*.txt</code>. You
may add more pictures, but do not remove or change the ones in those
starter files.</p>

<p>To run the testing infrastructure on your code, use <code class="language-plaintext highlighter-rouge">tester.py</code>. It is
invoked as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kmicinski] ascii-art % python3 tester.py
---------------------

Running test: public-draw-0
     PASSED
---------------------
...
---------------------

Running test: secret-draw-line-2
     PASSED

===========================
Summary: 11 / 11 tests passed
===========================
</code></pre></div></div>

<h1 id="submitting-your-code-for-testing">Submitting your code for testing</h1>

<p><strong>NOTE</strong> Before you can submit your project for grading you <em>must</em> git
add, commit, and push. At a terminal (in your project directory)
type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Add all files in the directory
git add .
# Make a commit
git commit -m "my commit message here"
# Push to server
git push
</code></pre></div></div>

<p>Once you have done a git commit and push, go to the Autograder and
select for your project commit to be graded.</p>

<h2 id="starter-code">Starter code</h2>

<p>For those interested who did not pay for the class (and thus access to
the autograder) but want to work the project.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#lang racket
(provide (all-defined-out))

;;
;; CIS352 (Fall '22) Project 1 -- ASCII Art
;; 

;; To see the demo, invoke using:
;;     racket ascii.rkt &lt;ascii-art&gt;.txt

;; READ, DON'T EDIT

;; A point is specified as a list of length three containing an (0)
;; X-column-index, (1) Y-column-index, and (2) character to draw at
;; the specified X/Y coordinate position.
;;
;; For example, '(5 4 #\+) specifies the point at (5,4) in the diagram
;; is #\+.
(define (point-spec? pt)
  (match pt
    ;; points are lists of size three specifying a line, column, and
    ;; character to be printed
    [`(,(? nonnegative-integer? line) ,(? nonnegative-integer? column) ,(? char? char)) #t]
    [_ #f]))

;; a digram is a list of valid point-spec?s
(define (diagram-spec? l)
  (and (list? l) (andmap (lambda (x) (point-spec? x)) l)))

;; Takes a list of strings, returns an (ordered) diagram-spec?
;;
;; The basic idea is to walk over each line using a recursive function
;; which tracks a counter for the line number. Within that function,
;; we split up the string into its constituent characters using
;; string-&gt;list and use a *second* recursive walk over each character,
;; tracking the column number.
(define (parse-ascii-diagram lines)
  ;; parse a single line, characters is a list of char?s line-no
  ;; is current line number.
  (define (parse-line characters line-no)
    ;; for each character, chars is a list of char?s, col-no is
    ;; the number of the current column.
    (define (for-each-char chars col-no)
      (cond [(empty? chars) '()] ;; done, return
            [(equal? (first chars) #\space)
             ;; if the char is a space, skip it
             (for-each-char (rest chars) (add1 col-no))]
            [else
             (cons (list line-no col-no (first chars))
                   (for-each-char (rest chars) (add1 col-no)))]))
    (for-each-char characters 0))
  ;; for each line, lines-list is the rest of the lines, line-no is
  ;; current line number.
  (define (for-each-line lines-list line-no)
    (if (empty? lines-list)
        ;; we're done, return
        '()
        (let ([characters (string-&gt;list (first lines-list))]
              [rest-lines (rest lines-list)])
          (append (parse-line characters line-no)
                  (for-each-line rest-lines (add1 line-no))))))
  (for-each-line lines 0))

;; YOUR CODE HERE -- EDIT BEYOND THIS

;; helper: generate n spaces
(define (spaces n) (make-string n #\space))

;; Note: this is slightly different than the version in exercise e0,
;; but only superficially, a line number (which you should ignore) is
;; added.
;; 
;; Assume `l` is a (length-3) list of points (defined above) whose
;; first element is a line number, second element is the column
;; position, and third element is the character to be rendered at that
;; line/column pair. You will return a string representing the line.
;; 
;; Assume that all characters are on the same line--another function
;; will wrap this function.
;; 
;; Example:
;;    (draw-ascii-line '((3 3 #\=) (3 4 #\=) (3 5 #\=) (3 7 . #\.)
;;                       (3 9 #\=) (3 10 #\=) (3 11 #\=)))
;; &gt; "   === . ==="
(define (draw-ascii-line l)
  ;; for each point
  (define (h l cur-pos)
    (if (empty? l)
      ""
      ;; else
      (let ([next-index (second (first l))]
            [next-char  (third (first l))]
            [rest-list  (rest l)])
        ;; TODO TODO TODO TODO
        'todo)))
  ;; assume input is sorted ascending on column number
  (h l 0))

;; Given a list of points, return the number of the next line. Assume
;; the list l is nonempty (calling this function on an empty list is
;; an error)
(define (line-number l)
  (first (first l)))

;; This function is implemented for you to use
;; 
;; Given a list of points, grab the next "line" from the input, return
;; (a) the next line and (b) the rest of the input.
(define (grab-next-line points)
  ;; conceptually: recur over l, consing on the next element as long
  ;; as it is on the next line
  (define (h lst)
    (match lst
      ['() (cons '() '())]
      [`(,hd . ,rest) (if (equal? (first hd) (line-number points)) 
                          (let ([rest-ans (h rest)])
                            (cons (cons hd (car rest-ans)) (cdr rest-ans)))
                          (cons '() rest))]))
  (h points))

;; generate a string of n newlines in a row
(define (newlines n)
  ;; TODO TODO TODO TODO
  "todo")

;; Draw a whole ASCII diagram, given as a list of point
;; specifications.
(define (draw-ascii-diagram diagram)
  (define (do-lines lst line-no)
    (if (empty? lst)
        ""
        (let* ([parsed-line (grab-next-line lst)]
           [next-line (car parsed-line)]
           [rest-list (cdr parsed-line)]
           [next-line-no (line-number next-line)])
          ;; TODO TODO TODO TODO
          "todo")))
  (do-lines diagram 0))

;; DO NOT EDIT BELOW HERE 

(define (demo file)
  (define lines (file-&gt;lines file))
  (define input (string-join lines "\n"))
  (define diagram (parse-ascii-diagram lines))
  (define answer (draw-ascii-diagram diagram))
  (displayln "The input is:")
  (displayln input)
  (displayln "The decompiled diagram is:")
  (pretty-print diagram)
  (displayln "Rendering this diagram produces the following:")
  (displayln (draw-ascii-diagram diagram))) 

(define file
  (command-line
   #:program "ascii.rkt"
   #:args ([filename ""])
   filename))

;; if called with a single argument, this racket program will execute
;; the demo.
(if (not (equal? file "")) (demo file) (void)) 
</code></pre></div></div>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <!-- <h2 class="footer-heading">CIS352</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>CIS352</li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>CMSC352--Principles of Programming Languages (Spring '23) at Syracuse</p>
      </div>
    </div>

  </div>

</footer>

<script src=https://kmicinski.com//cis352-s23/bower_components/jquery/dist/jquery.min.js></script>
<script src=https://kmicinski.com//cis352-s23/bower_components/bootstrap-sass/assets/javascripts/bootstrap.min.js></script>


  </body>

</html>
